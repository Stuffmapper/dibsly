(function() {
  var factories;

  factories = angular.module('factories');

  factories.factory('MapsService',[ function() {
      return {
        addMarkerListener: function(marker, event, fn ){
          google.maps.event.addListener(marker, event, fn )
        },
        addMapListener: function(map, event, fn){
          google.maps.event.addListener(map, event, fn )
        },
        getCenter: function(map){
          return map.getCenter();
        },
        newInfoWindow: function(options){
          return new google.maps.InfoWindow(options);
        },
        newLatLng: function(latitude, longitude){
          return new google.maps.LatLng(latitude, longitude)
        },
        newMapMarker: function(options){
          return  new google.maps.Marker(options);
        },
        panTo: function(map, latlng){
          //note consider using promise here
          map.panTo(latlng);
        },
        removeMapListener: function(){
          throw new Error('not implemented')
        },
        setInfoContent: function(marker, content){
          marker.InfoWindow.setInfoContent(content);
        },
        setZoom: function(){
          throw new Error('not implemented')
        },
        setMapMarker: function(marker, map){
          marker.setMap(map);
        },
        triggerMarkerEvent: function(marker, event){
          google.maps.event.trigger(marker, event);
        },

      };
    }
  ]);

}).call(this);
