
<div class="container overlap" ng-controller="StuffCtrl" >

	<div class="col-md-4 col-md-offset-8 modal-body" id="stuffmapper-menu"> 
  <alerts></alerts>
	

  <tabset>

     <tab heading="Get Stuff" disabled="tab.disabled" >
     <div id="get-stuff" >
        <div ng-repeat="item in stuff track by $index" class="col-md-4 clearfix">
          <div class="stuff-view" title={{item.description}}>
            <div class= "stuff-image-container">
            <div class="stuff-description">
              <a href="post/{{item.id}}" class='btn-default btn-xs align-right'>Details</a>
                 
              <p>{{item.description}}</p>

               
            </div>
              
              <img class="stuff-image" src={{item.image_url}} ></img>
            </div>

            <div class="col-md-12">
              <dib post="item.id"></dib>   
            </div>
          </div>
                 
        </div>
     </div>
     </tab>

     <tab heading="My Stuff"  ng-click="getMyStuff()">
      <div id="my-stuff" >
  
        <div ng-repeat="stuff in mystuff track by $index" class="col-md-4 clearfix" id="mystuff-{{stuff.id}}" >
          <div class="stuff-view" title={{stuff.description}}>
            <div class= "stuff-image-container">
              <div class="stuff-description" >
                <a href="post/{{stuff.id}}" class='btn-default btn-xs align-right'>Details</a>
                <p>{{stuff.description}}</p>
               
              </div>
              <img class="stuff-image" src={{stuff.image_url}} ></img>
            </div>
            <div class="col-md-12">
              <undib post="stuff.id" mystuff="mystuff" ng-hide="currentUser == stuff.creator"></undib>   
            </div>

          </div>
        </div>
     </div>
     </tab>



    <tab heading="Give Stuff" disabled="tab.disabled" ng-click="startMapper()">
        <p> Take a picture of the stuff that you want to give </p>
        <form id="give-stuff-form">

         <div class="form-group">
           <input type="file" id="give-stuff-file" file-upload />
           <ul>
              <li ng-repeat="file in files">{{file.name}}</li>
            </ul>
         </div>

        <div class="form-group">

          <select class="form-control" id="category" placeholder="Category" ng-model="post.category" >
            <option>Stuff</option>
            <option>Other Stuff</option>
            <option>More Stuff</option>
            <option>Best Stuff</option>
          </select>
         
         </div>

        <div class="form-group"> 
          <input type="text" class="form-control" id="description" placeholder="Describe this stuff (you can use #tags)" ng-model="post.description">
        </div>

        <div class="checkbox">
          <label><input type="checkbox" id="on_the_curb" name="on_the_curb" ng-model="post.on_the_curb" value='' >This item is on the curb/outside/unattended by me </label>
        </div>

      <div class="form-group">
          <button class="btn btn-primary" ng-click="submitPost()">Submit</button>
      </div>

   
    </form>


     
    </tab>
  

  </tabset>
 

	</div>

</div>

<div class="container-fluid" id="map-container" ng-controller="MapsCtrl as map" class="ng-scope" >
   


<map id="google-map-container"  center={{mapCenter}} zoom="12"> 
  <div class='g-marker' ng-repeat="post in markers">
    <marker position="{{post.coords.latitude}}, {{post.coords.longitude}}"  title: "{{post.description}}" icon=<%= asset_path('green-icon-small.png')%> id="marker-{{post.id}}" on-click="showInfoWindow(event, 'info-{{post.id}}' )"></marker>
    <info-window id='info-{{post.id}}' visible-on-marker="marker-{{post.id}}">
      <div ng-non-bindable="">
        <div id="siteNotice"></div>
         <img class="stuff-map-image" src={{post.image_url}} ></img>
        <div id="bodyContent">
          <p>{{post.description}}</p>
          <dib post="post.id"></dib>   
        </div>
      </div>
    </info-window>
  </div>


</map>

</div>

